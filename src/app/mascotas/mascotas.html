<h2>Gestión de Mascotas</h2>

<!-- ✅ Solo visible si el usuario es admin -->
<div *ngIf="esAdmin(); else soloLista">
  <form [formGroup]="mascotaForm" (ngSubmit)="registrar()" class="formulario">
    <input formControlName="nombre" placeholder="Nombre" required>
    <input formControlName="especie" placeholder="Especie" required>
    <input formControlName="raza" placeholder="Raza" required>
    <input type="number" formControlName="edad" placeholder="Edad" required>
    <input formControlName="nombreDueno" placeholder="Nombre del dueño" required>
    <input formControlName="telefonoDueno" placeholder="Teléfono del dueño" required>
    <button type="submit" [disabled]="mascotaForm.invalid">Registrar Mascota</button>
  </form>
</div>

<!-- ✅ Si no es admin, solo muestra mensaje -->
<ng-template #soloLista>
  <p><strong>Modo Cliente:</strong> Solo puedes visualizar las mascotas registradas.</p>
</ng-template>

<hr>

<h2>Lista de Mascotas</h2>
<ul class="lista">
  <li *ngFor="let m of mascotas">
    <strong>{{ m.nombre }}</strong> ({{ m.especie }} - {{ m.raza }}) <br>
    Edad: {{ m.edad }} años <br>
    Dueño: {{ m.nombreDueno }} - 📞 {{ m.telefonoDueno }}
    <!-- ✅ Solo el admin ve este botón -->
    <button *ngIf="esAdmin()" (click)="eliminarMascota(m.id)">Eliminar</button>
  </li>
</ul>
